# Telegram бот для отслеживания воды, калорий и активности

Telegram бот для расчета нормы воды, калорий и трекинга активности, реализованный с использованием aiogram 3.x.

## Возможности

- Расчет индивидуальных дневных норм воды и калорий
- Отслеживание потребления воды
- Учет питания с расчетом калорийности через API OpenFoodFacts
- Учет тренировок с подсчетом сожженных калорий
- Мониторинг прогресса
- Учет погодных условий при расчете нормы воды

## Настройка

1. **Создание Telegram бота:**
   - Напишите [@BotFather](https://t.me/BotFather) в Telegram
   - Используйте команду `/newbot` для создания нового бота
   - Скопируйте полученный токен

2. **Получение API ключа OpenWeatherMap (опционально, но рекомендуется):**
   - Перейдите на [OpenWeatherMap](https://openweathermap.org/api)
   - Зарегистрируйтесь бесплатно
   - Сгенерируйте API ключ

3. **Настройка переменных окружения:**
   - Отредактируйте `.env` и добавьте свои данные:
     ```
     BOT_TOKEN=ваш_токен_бота
     OPENWEATHER_API_KEY=ваш_api_ключ_openweather
     ```

## Установка

1. **Установка зависимостей:**
   ```bash
   pip install -r requirements.txt
   ```

2. **Запуск бота:**
   ```bash
   python bot.py
   ```

## Использование

### Команды

- `/start` - Запустить бота и посмотреть доступные команды
- `/set_profile` - Настроить профиль (вес, рост, возраст, уровень активности, город)
- `/log_water <количество>` - Записать потребление воды в миллилитрах
- `/log_food <название_продукта>` - Записать прием пищи (интерактивный процесс)
- `/log_workout <тип> <минуты>` - Записать тренировку
- `/check_progress` - Проверить дневной прогресс
- `/help` - Показать справку

### Примеры использования

1. **Настройка профиля:**
   ```
   /set_profile
   ```

2. **Запись воды:**
   ```
   /log_water 250
   ```

3. **Запись еды:**
   ```
   /log_food банан
   ```

4. **Запись тренировки:**
   ```
   /log_workout бег 30
   ```

5. **Проверка прогресса:**
   ```
   /check_progress
   ```

## Деплой

### Использование Docker

1. Сборка Docker образа:
   ```bash
   docker build -t health-tracker-bot .
   ```

2. Запуск контейнера:
   ```bash
   docker run --env-file .env health-tracker-bot
   ```

### Деплой на Render

1. Сделайте форк этого репозитория в свой GitHub аккаунт
2. Создайте новый Web Service на Render
3. Подключите ваш репозиторий
4. Установите переменные окружения в панели управления Render:
   - `BOT_TOKEN`: Токен вашего Telegram бота
   - `OPENWEATHER_API_KEY`: Ваш API ключ OpenWeatherMap
5. Установите команду сборки: `pip install -r requirements.txt`
6. Установите команду запуска: `python bot.py`

## Хранение данных

В текущей реализации бот хранит все данные в памяти. Для продакшена рекомендуется использовать базу данных.

